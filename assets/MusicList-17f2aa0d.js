import{_ as U,u as H,s as $,c as z,m as F,r as T,a as N,b as l,d as n,F as C,e as o,j as P,k as R,f as S,t as a,g as b,J as m,I as A,A as V,C as j}from"./index-dcbbacec.js";import{E as J}from"./ElectroNoResult-c0acc833.js";const O={class:"music-list flex-col"},q={class:"list-item list-header"},w={key:0,class:"list-time"},G={key:1,class:"list-album"},K=["onDblclick"],Q=["textContent"],W={class:"list-name"},X={class:"list-name-text"},Y={class:"list-artist"},Z={key:0,class:"list-time"},tt={class:"list-time-format"},st={key:1,class:"list-album"},et=100,lt={__name:"MusicList",props:{list:{type:Array,default:()=>[]},listType:{type:String,default:"album"}},emits:["pullUpLoad","select","del"],setup(d,{expose:L,emit:D}){const v=H(),{setPlaying:E}=v,{currentMusic:c,isPlaying:_}=$(v),f=D,r=d,y=z(()=>r.listType==="duration");F(()=>r.list,(t,s)=>{r.listType==="pullUp"&&(t.length!==s.length||t[t.length-1].id!==s[s.length-1])&&(u.value=!1)});const I=({id:t})=>_.value&&c.value.id===t?"pause-circle":"play-circle",M=t=>j(t),h=(t,s)=>{if(c.value.id&&t.id===c.value.id){E(!_.value);return}f("select",t,s)},x=t=>{f("del",t)},u=T(!0),B=t=>{if(r.listType!=="pullUp"||u.value)return;const s=t.target.scrollTop,{scrollHeight:p,offsetHeight:e}=t.target;p-s-e<=et&&(u.value=!0,f("pullUpLoad"))},g=T(null);return L({scrollToTop:()=>{g.value.scrollTop=0}}),(t,s)=>{const p=N("ElectroIcon");return l(),n("div",O,[d.list.length>0?(l(),n(C,{key:0},[o("div",q,[s[1]||(s[1]=o("span",{class:"list-name"},"歌曲",-1)),s[2]||(s[2]=o("span",{class:"list-artist"},"歌手",-1)),y.value?(l(),n("span",w,"时长")):(l(),n("span",G,"专辑"))]),o("div",{ref_key:"listContent",ref:g,class:"list-content",onScroll:B},[(l(!0),n(C,null,P(d.list,(e,i)=>(l(),n("div",{key:e.id,class:R(["list-item",{on:S(_)&&S(c).id===e.id}]),onDblclick:k=>h(e,i)},[o("div",{class:"list-num",textContent:a(i+1)},null,8,Q),o("div",W,[o("span",X,a(e.name),1),b(p,{type:I(e),size:32,class:"hover list-menu-icon",onClick:m(k=>h(e,i),["stop"])},null,8,["type","onClick"])]),o("div",Y,a(e.singer),1),y.value?(l(),n("div",Z,[o("span",tt,a(M(e.duration%3600)),1),b(p,{type:"delete",size:32,class:"hover list-menu-icon-del",onClick:m(k=>x(i),["stop"]),onDblclick:s[0]||(s[0]=m(()=>{},["stop"]))},null,8,["onClick"])])):(l(),n("span",st,a(e.album),1))],42,K))),128)),A(t.$slots,"listBtn",{},void 0,!0)],544)],64)):(l(),V(J,{key:1,title:"弄啥呢，空空如也~"}))])}}},at=U(lt,[["__scopeId","data-v-34c3fc98"]]);export{at as M};
