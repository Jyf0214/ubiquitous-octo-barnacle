import{_ as U,u as H,s as $,c as z,q as F,r as T,a as N,b as l,d as c,F as S,e as o,j as P,k as R,f as C,t as i,g as b,M as h,L as V,C as j,G as q,p as w,l as A}from"./index-6bb17dc0.js";import{E as G}from"./ElectroNoResult-c04ea358.js";const I=n=>(w("data-v-34c3fc98"),n=n(),A(),n),O={class:"music-list flex-col"},J={class:"list-item list-header"},K=I(()=>o("span",{class:"list-name"},"歌曲",-1)),Q=I(()=>o("span",{class:"list-artist"},"歌手",-1)),W={key:0,class:"list-time"},X={key:1,class:"list-album"},Y=["onDblclick"],Z=["textContent"],ss={class:"list-name"},ts={class:"list-name-text"},es={class:"list-artist"},ls={key:0,class:"list-time"},os={class:"list-time-format"},cs={key:1,class:"list-album"},ns=100,as={__name:"MusicList",props:{list:{type:Array,default:()=>[]},listType:{type:String,default:"album"}},emits:["pullUpLoad","select","del"],setup(n,{expose:L,emit:_}){const r=n,v=H(),{setPlaying:M}=v,{currentMusic:u,isPlaying:f}=$(v),y=z(()=>r.listType==="duration");F(()=>r.list,(s,e)=>{r.listType==="pullUp"&&(s.length!==e.length||s[s.length-1].id!==e[e.length-1])&&(p.value=!1)});const D=({id:s})=>f.value&&u.value.id===s?"pause-circle":"play-circle",E=s=>q(s),m=(s,e)=>{if(u.value.id&&s.id===u.value.id){M(!f.value);return}_("select",s,e)},x=s=>{_("del",s)},p=T(!0),B=s=>{if(r.listType!=="pullUp"||p.value)return;const e=s.target.scrollTop,{scrollHeight:d,offsetHeight:t}=s.target;d-e-t<=ns&&(p.value=!0,_("pullUpLoad"))},g=T(null);return L({scrollToTop:()=>{g.value.scrollTop=0}}),(s,e)=>{const d=N("ElectroIcon");return l(),c("div",O,[n.list.length>0?(l(),c(S,{key:0},[o("div",J,[K,Q,y.value?(l(),c("span",W,"时长")):(l(),c("span",X,"专辑"))]),o("div",{ref_key:"listContent",ref:g,class:"list-content",onScroll:B},[(l(!0),c(S,null,P(n.list,(t,a)=>(l(),c("div",{key:t.id,class:R(["list-item",{on:C(f)&&C(u).id===t.id}]),onDblclick:k=>m(t,a)},[o("div",{class:"list-num",textContent:i(a+1)},null,8,Z),o("div",ss,[o("span",ts,i(t.name),1),b(d,{type:D(t),size:32,class:"hover list-menu-icon",onClick:h(k=>m(t,a),["stop"])},null,8,["type","onClick"])]),o("div",es,i(t.singer),1),y.value?(l(),c("div",ls,[o("span",os,i(E(t.duration%3600)),1),b(d,{type:"delete",size:32,class:"hover list-menu-icon-del",onClick:h(k=>x(a),["stop"]),onDblclick:e[0]||(e[0]=h(()=>{},["stop"]))},null,8,["onClick"])])):(l(),c("span",cs,i(t.album),1))],42,Y))),128)),V(s.$slots,"listBtn",{},void 0,!0)],544)],64)):(l(),j(G,{key:1,title:"弄啥呢，空空如也~"}))])}}},ps=U(as,[["__scopeId","data-v-34c3fc98"]]);export{ps as M};
