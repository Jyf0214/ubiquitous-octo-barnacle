import{u as C,E as F}from"./loading-1d1f8fe6.js";import{S as w,_ as I,r as g,o as S,a as b,Q as D,b as a,d as i,g as r,f as L,F as _,e as t,j as y,A as N,w as f,R as k,t as d,h as V,p as B,l as E}from"./index-6bb17dc0.js";const R=()=>w.get("/toplist/detail"),q=()=>w.get("/personalized");const c=n=>(B("data-v-b6ac82f5"),n=n(),E(),n),P={class:"topList"},U=c(()=>t("div",{class:"topList-head"},"云音乐特色榜",-1)),j={class:"topList-content"},A=["title"],M={class:"item-cover"},Q={class:"item-img",alt:"image"},W=c(()=>t("i",{class:"cover-mask"},null,-1)),G=c(()=>t("i",{class:"cover-icon-play"},null,-1)),H={class:"name"},J=c(()=>t("div",{class:"topList-head"},"热门歌单",-1)),K={class:"topList-content"},O=["title"],X={class:"item-cover"},Y={class:"item-img",alt:"image"},Z=c(()=>t("i",{class:"cover-mask"},null,-1)),tt=c(()=>t("i",{class:"cover-icon-play"},null,-1)),st={class:"name"},et={class:"play-count"},ot={__name:"TopList",setup(n){const{isLoading:u,hideLoad:x}=C(),p=g([]),h=g([]);S(()=>{T(),$()});const T=async()=>{const o=await R();p.value=o.list.filter(e=>e.ToplistType)},$=async()=>{const o=await q();h.value=o.result.slice(),x()},z=o=>{let e=o/1e4;return e<1e4?`${e.toFixed(1)}万`:(e=e/1e4,`${e.toFixed(1)}亿`)};return(o,e)=>{const m=b("RouterLink"),v=D("img-lazy");return a(),i("div",P,[r(F,{show:L(u)},null,8,["show"]),L(u)?N("",!0):(a(),i(_,{key:0},[U,t("ul",j,[(a(!0),i(_,null,y(p.value,(s,l)=>(a(),i("li",{key:l,class:"list-item",title:`${s.name}-${s.updateFrequency}`},[t("div",M,[r(m,{to:{path:`/music/details/${s.id}`}},{default:f(()=>[k(t("img",Q,null,512),[[v,`${s.coverImgUrl}?param=300y300`]]),W,G]),_:2},1032,["to"]),t("h3",H,d(s.name),1)])],8,A))),128))]),J,t("ul",K,[(a(!0),i(_,null,y(h.value,(s,l)=>(a(),i("li",{key:l,class:"list-item",title:s.name},[t("div",X,[r(m,{to:{path:`/music/details/${s.id}`}},{default:f(()=>[k(t("img",Y,null,512),[[v,`${s.picUrl}?param=300y300`]]),Z,tt]),_:2},1032,["to"]),t("h3",st,d(s.name),1),t("div",et,[V(" 播放量: "),t("span",null,d(z(s.playCount)),1)])])],8,O))),128))])],64))])}}},ct=I(ot,[["__scopeId","data-v-b6ac82f5"]]);export{ct as default};
