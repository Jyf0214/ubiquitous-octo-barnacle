import{u as w,E as z}from"./loading-8ac447e7.js";import{Q as h,_ as C,r as v,o as F,a as N,N as D,b as a,d as i,g as n,f as g,F as r,e as s,j as y,y as V,w as L,O as f,t as c,h as b}from"./index-7859e903.js";const B=()=>h.get("/toplist/detail"),E=()=>h.get("/personalized");const q={class:"topList"},I={class:"topList-content"},P=["title"],R={class:"item-cover"},U={class:"item-img",alt:"image"},j={class:"name"},M={class:"topList-content"},O=["title"],Q={class:"item-cover"},S={class:"item-img",alt:"image"},W={class:"name"},A={class:"play-count"},G={__name:"TopList",setup(H){const{isLoading:d,hideLoad:k}=w(),u=v([]),p=v([]);F(()=>{x(),T()});const x=async()=>{const o=await B();u.value=o.list.filter(t=>t.ToplistType)},T=async()=>{const o=await E();p.value=o.result.slice(),k()},$=o=>{let t=o/1e4;return t<1e4?`${t.toFixed(1)}万`:(t=t/1e4,`${t.toFixed(1)}亿`)};return(o,t)=>{const _=N("RouterLink"),m=D("img-lazy");return a(),i("div",q,[n(z,{show:g(d)},null,8,["show"]),g(d)?V("",!0):(a(),i(r,{key:0},[t[5]||(t[5]=s("div",{class:"topList-head"},"云音乐特色榜",-1)),s("ul",I,[(a(!0),i(r,null,y(u.value,(e,l)=>(a(),i("li",{key:l,class:"list-item",title:`${e.name}-${e.updateFrequency}`},[s("div",R,[n(_,{to:{path:`/music/details/${e.id}`}},{default:L(()=>[f(s("img",U,null,512),[[m,`${e.coverImgUrl}?param=300y300`]]),t[0]||(t[0]=s("i",{class:"cover-mask"},null,-1)),t[1]||(t[1]=s("i",{class:"cover-icon-play"},null,-1))]),_:2},1032,["to"]),s("h3",j,c(e.name),1)])],8,P))),128))]),t[6]||(t[6]=s("div",{class:"topList-head"},"热门歌单",-1)),s("ul",M,[(a(!0),i(r,null,y(p.value,(e,l)=>(a(),i("li",{key:l,class:"list-item",title:e.name},[s("div",Q,[n(_,{to:{path:`/music/details/${e.id}`}},{default:L(()=>[f(s("img",S,null,512),[[m,`${e.picUrl}?param=300y300`]]),t[2]||(t[2]=s("i",{class:"cover-mask"},null,-1)),t[3]||(t[3]=s("i",{class:"cover-icon-play"},null,-1))]),_:2},1032,["to"]),s("h3",W,c(e.name),1),s("div",A,[t[4]||(t[4]=b(" 播放量: ")),s("span",null,c($(e.playCount)),1)])])],8,O))),128))])],64))])}}},X=C(G,[["__scopeId","data-v-b6ac82f5"]]);export{X as default};
